pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- jack vs the apocalipse
-- by elfamir
#include scripts/main.lua
#include scripts/utils.lua
#include scripts/ui.lua
#include scripts/particles.lua

--scenes
#include scenes/title.lua
#include scenes/level.lua
#include scenes/death.lua
#include scenes/highscore.lua
#include scenes/title.lua

--ecs
#include ecs/components.lua
#include ecs/systems.lua
#include ecs/entities/camera.lua
#include ecs/entities/player.lua
#include ecs/entities/bullet.lua
#include ecs/entities/zombie.lua

__gfx__
00000000eeeeeeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000eeeeeeee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700e000000e0000099999909000000000000000000000000999999000000000000000000000000009999990090000000000000000000000099999900900
00077000e000000e0000099999999000000009999990900000000999999909000000099999909000000009999999900000000999999090000000099999999000
00077000ee0deeee0000999ffff9000000000999999990000000999ffff9900000000999999990000000999ffff9000000000999999990000000999ffff90000
00700700ee00eeee000099ffffff00000000999ffff90000000099ffffff00000000999ffff90000000099ffffff00000000999ffff90000000099ffffff0000
00000000eeeeeeee0000f9f73f73f000000099ffffff00000000f9f73f73f000000099ffffff00000000f9f73f73f000000099ffffff00000000f9f73f73f000
00000000eeeeeeee0000fffffffff0000000f9f73f73f0000000fffffffff0000000f9f73f73f0000000fffffffff0000000f9f73f73f0000000fffffffff000
eeeeeeeeeeeeeeee00000fff77ff00000000fffffffff00000000fff77ff00000000fffffffff00000000fff77ff00000000fffffffff00000000fff77ff0000
eeeeee8eeee99eee000000fffff0000000000ffff7ff0000000000fffff0000000000fff77ff0000000000fffff0000000000fff77ff0000000000fffff00000
eeeee0e8ee9799ee0000044664400000000000fffff000000000044664400000000000fffff00000000000d444000000000000fffff000000000004464000000
eeee0ee8ee9999ee0000404664040000000004466440000000004046640400000000004464d00000000000d444000000000000d4444000000000004464000000
eee0eeeeee9799ee0000f046640f000000004046640400000000f046640f000000000404640dd000000000d444f0000000000d044404f0000000004464d00000
8e0eeeeeee9799ee000000cccc0000000000f0cccc0f0000000000cccc00000000000f0dcc000000000000dccd00000000000d0ccd000000000000fdcc000000
e0eeeeeeee9999ee000000c00c000000000000c00c000000000000c00c000000000000d000c000000000000c00d00000000000c000d000000000000d00c00000
eeeeeeeeeeeeeeee00000040040000000000004004000000000000400400000000000d00000400000000000400d0000000000400000d00000000000d00400000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09999990900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09999999900000000000000099999909000000009999990900000000999999090000000000000000000000009999990900000000999999090000000099999909
999ffff9000000000000000099999999000000009999999900000000999999990000000099999909000000009999999900000000999999990000000099999999
99ffffff000000000000000999ffff900000000999ffff900000000999ffff9000000000999999990000000999ffff900000000999ffff900000000999ffff90
f9f73f73f0000000000000099ffffff0000000099ffffff0000000099ffffff00000000999ffff90000000099ffffff0000000099ffffff0000000099ffffff0
fffffffff00000000000000f9f73f73f0000000f9fffffff0000000f9f73f73f000000099ffffff00000000f9f73f73f0000000f9fffffff0000000f9f73f73f
0fff77ff000000000000000fffffffff0000000fffffffff0000000fffffffff0000000f9f73f73f0000000fffffffff0000000fffffffff0000000fffffffff
00fffff00000000000000000ffff7ff000000000fff77ff000000000fff77ff00000000fffffffff00000000ffff7ff000000000fff77ff000000000fff77ff0
00446644000000000000000ddfffff000000000ddfffff000000000ddfffff0000000000fff77ff0000000044fffff00000000044fffff00000000044fffff00
040446604f000000000000d00444444f000000d00444444f000000d00444444f00000000dfffff00000000f0446ddddd000000f0446ddddd000000f0446ddddd
004f4666000000000000000044400000000000004440000000000000444000000000000d444000000000000046d000000000000046d000000000000046d00000
00004ccc00000000000000044d000000000000044d000000000000044d000000000000044d04f00000000004cd00000000000004cd00000000000004cd000000
0000c000c0000000000000c000d00000000000c000d00000000000c000d00000000000c000d00000000000c000d00000000000c000d00000000000c000d00000
00004000040000000000040000d000000000040000d000000000040000d000000000040000d000000000040000d000000000040000d000000000040000d00000
00000000000000000000099999900900000009999990090000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000099999999000000009999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000999ffff900000000999ffff9000000000000000000000009999990900000000999999090000000099999909000000000099999909000
0000000000000000000099ffffff0000000099ffffff000000000000000000000009999999900000000999999990000000099999999000000000099999999000
00000999999090000000f9f73f73f0000000f9f73f73f000000009999990900000999ffff900000000999ffff900000000999ffff90000000000999ffff90000
00000999999990000000fffffffff0000000fffffffff0f000000999999990000099ffffff0000000099ffffff5000000099ffffff500000000099ffffff0000
0000999ffff9000000000fff77ff040000000fff77ff04000000999ffff9000000f9f73f73f0000000f9ffffff50000000f9f73f735000000000f9f73f73f000
000099ffffff0000000000fffff44700000000fffff44000000099ffffff000000fffffffff0000000ffffffff5f000000ffffffff5f00000000fffffffff000
0000f9f73f73f000000000044647770000000004464000000000f9f73f73f000000fff77ff000000000ffff7ff040000000ffff7ff04000000000fff77ff0000
0000fffffffff000000000404677700000000040464000000000fffffffff0000000fffff00005550000fffff00400000000fffff0040000000000fffff00000
00000fff77ff0000000000f047777000000000f04640000000000fff77ff00000000004444444f00000000444440000000000044444000000000044664400000
000000fffff0d000000000007777000000000000ccc00000000000fffff0f0000000004460000000000000446000000000000044600000000000404664040000
000044466ddd0000000000007777000000000000d00c00000000444664440000000000446dd00000000000446dd00000000000446dd0000000005046640f0000
000f004ccd000000000000007770000000000000d0400000000f004cc4000000000000ccc0000000000000ccc0000000000000ccc0000000000050cccc000000
000000c000d0000000000007777000000000000d00000000000000c000c0000000000c000c00000000000c000c00000000000c000c000000000050c00c000000
0000040000d000000000000707000000000000000000000000000400004000000000400004000000000040000400000000004000040000000000004004000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000033333300000000000000000000000003333330000000000000000000000000033333300000
00000000000000000000003333330000000000000000000000000333333330000000000000000000000033333333000000000333333000000000333333330000
00000000000000000000033333333000000000333333000000003333333333000000033333300000000333333333300000003333333300000003333333333000
0000000000000000000033333333330000000333333330000000333333333300000033333333000000033aa333333000000333333333300000033aa333333000
0000000000000000000033aa333333000000333333333300000033aa33333300000333333333300000033aa33aa33000000333333333300000033aa33aa33000
0000000000000000000033aa33aa3300000033aa33333300000033aa33aa330000033aa333333000000333333333300000033aa3333330000003333333333000
00000000000000000000333333333300000033aa33aa3300000033333333330000033aa33aa33000000333333333300000033aa33aa330000003333333333000
00000000000000000000333333333300000033333333330000000338883330000003333333333000000033888333000000033333333330000000338883330000
00000000000000000000033888333000000033333333330000000033333300000003333333333000000003333330000000003388833300000000033333300000
00000000800000000000003333330000000003388833300000000023333000000000338883330000000000333300000000000333333000000000003333000000
00000020702000000000002333300000000000333333000000000202220200000000033333300000000002232200000000000033330000000000022322000000
00000202220200000000020222020000000000233330000000000202220200000000022333000000000000222023000000000223220000000000002220230000
00000302220300000000030222030000000002022202000000000302220300000000002220230000000000222000000000000022202300000000002220000000
00000002220000000000000222000000000003022203000000000002220000000000002220000000000000222000000000000022200000000000002220000000
00000005050000000000000505000000000000050500000000000005050000000000050005000000000000055000000000000500050000000000000550000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00003333330000000000000033333300000000003333330000000000000000000000000000000000000000000000000000000000000000000000000000000000
00033333333000000000000333333330000000033333333000000000333333000000000000000000000000000000000000000000000000000000000000000000
00333333333300000000003333333333000000333333333300000003333333300000000000000000000000000000000000000000000000000000000000000000
0033aa3333330000000000333aa33333000000333333333300000033333333330000000000000000000000000000000000000000000000000000000000000000
0033aa33aa330000000000333aa33aa3000000333aa33aa300000033333333330000000000000000000000000000000000000000000000000000000000000000
003333333333000000000033333333330000003333333333000000333aa33aa30000000000000000000000000000000000000000000000000000000000000000
00333333333300000000003333888833000000333388883300000033333333330000000000000000000000000000000000000000000000000000000000000000
00033888333000000000000333888830000000033388883000000033333333330000000000000000000000000000000000000000000000000000000000000000
00003333330000000000000023888800000000002388880000000003333333300000000000000000000000000000000000000000000000000000000000000000
00002222220000000000000223333200000000022333320000000000233333000000000000000000000000000000000000000000000000000000000000000000
00002022220000000000000222220023000000022222002300000002222222230000000000000000000000000000000000000000000000000000000000000000
00000322223000000000002222200000000000222220000000000022222000000000000000000000000000000000000000000000000000000000000000000000
00000022220000000000002222000000000000222200000000000022220000000000000000000000000000000000000000000000000000000000000000000000
00000050050000000000050005000000000005000500000000000500050000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaa5a0155555510000000066666666e555555ee5e5e5e500070000eeeeeeee0ccccc00c000cccc0c000c000000000067000000ee67777777777777
00000000aaaa5a5a55555555000000006666666655555555e5e5e5e50000000055555555c11111c0c00c1111c1c0c1c00000000067000000e666666666666666
00000000aaaaaaa0555555550000000066666666e565665ee5e5e5e500000000e565665e0c111c0c1c0c11ccc1cc11c000000dd0670000006700000000000000
00000000aaaa5a5a555555557770000766666666e565665e5e5e5e5e00000000e565665e00c1c0cc1ccc1c00c1c11c00d0d0d22d670000006700000000000000
00000000aaaaa5a0555555550000000066666666e565665e5e5e5e5e00000000e565665e0cc1c0c1c1cc1c00c111c00d2d2d2dd0670000006700000000000000
00000000aaaa5a5a555555550000000066666666e565665e5e5e5e5e00070000e565665ec1c1c0c111cc1c00c1c11c0d2d2d222d670000006700000000000000
00000000aaaaaaa0555555550000000077777777e565665e5e5e5e5e00070000e565665ec111c0c1c1cc11ccc1cc11cd222ddd2d670000006700000000000000
00000000aaaa5a5a155555510000000055555555ee5555eee5e5e5e500070000ee5555ee0c11cc11c11c1111c1c0c1c0d2d222d0670000006700000000000000
eeeeeeee009999000555555000000000000000000000000000000000000000000000000000cc00cc0cc0cccc0c000c000d0ddd00000000006700000000000000
ee8888ee09999990566bb66500000000000000000000000000000000000000000000000000888088808888088088808880088800000000006700000000000000
e88888ee99999999566bb66500000000000000000000000000000000000000000000000008222822282222822822282228822280000000006700000000000000
e888828e999999995bbbbbb500000000000000000000000000000000000000000000000000882828282222828282882888288800000000006700000000000000
e888888e099999905bbbbbb500000000000000000000000000000000000000000000000000828828282882822882882280822800000000006700000000000000
e88888ee00999900566bb66500000000000000000000000000000000000000000000000008288828282882828282882880888280000000006600000000000000
ee888eee00099000566bb6650000000000000000000000000000000000000000000000000822282228288282282228222822280000000000e667777777777777
ee222eee00090000055555500000000000000000000000000000000000000000000000000088808880800808808880888088800000000000ee66666666666666
0000000000000000000000000000000000000000000000000800000000000080000000007770000000000000000000000000000000000000ee77777777777777
0000000000000000000000000000000000000000000000000008080f00800808000000000777700000000000000000000000000000000000e666666666666666
00000000000000000000000000000000000000000000000000078840080700000000000000007700000000000000000000000000000000006600000000000000
000000000000000000000000000000000000000000000000404070000048700f000000000000077000000000000000000000000000000000600bbbbbbbbbbbbb
00000000000000000000000000000000000000000000000040477400004774040000000000000770000000000000000000000000000000006011333333333333
000000000000000000000000000000000000000000000000f0cccc0040cccc400000000000007700000000000000000000000000000000006001111111111111
00000000000000000000000000000000000000000000000000c00c0004c00c000000000007777000000000000000000000000000000000006600000000000000
00000000000000000000000000000000000000000000000000400400f0400400000000007770000000000000000000000000000000000000e667777777777777
00000800000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000f00000000008008080000000000080800000000080800000000000000000000000000000000000000000000000000000000000000000000000000
00000007880000000000080700000000000000800080000000800080000000800000000000000000000000000000000000000000000000000000000000000000
000040407000000000000048700f0000000000070800000000070800000800000000000000000000000000000000000000000000000000000000000000000000
00004047740000000000004774040000000080407000000080407000080008800000000000000000000000000000000000000000000000000000000000000000
0000f0cccc000000000040cccc400000000000477480000000477480080708000000000000000000000000000000000000000000000000000000000000000000
000000c00c000000000004c00c000000000000cccc04000000cccc04004870040000000000000000000000000000000000000000000000000000000000000000
00000040040000000000f040040000000000f4c00c400000f4c00c40f48774480000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000c0c1c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000c0c1c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000c0c0c0c0c0c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000c0c1c0c0c1c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000c0c1c0c0c1c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000c0c0c0c0c0c0000000c0c0c0c0c0c0c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000c0c0c0c0c1c0000000c0c1c0c1c0c1c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000c0c2c0c0c1c0000000c0c1c0c1c0c1c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000c50000000000000000000000c0c2c0c0c0c0c6c6c6c0c0c0c0c0c0c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000c4c4c4c4c4c4c4c4c4c4c4c4c4c4c4c40000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000c3c3c3c3c3c3c3c3c3c3c3c3c3c3c3c30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00100000117501175011750117501175011750137501375016750167500c7500c7500c75027000270000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010001029104291003510029104291001f1001f1001f10429104291003510029104291001f1001f1001f10400000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000600002205122051220542705627056270541f0002b0512b0512e0542e055290002700027000290002900024000250002500027000290002a00000000000000000000000000003000031000320003400035000
000400003a6253a62535634356343a6353a63535624356243a6253a63500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000400001f0552205522054350543a0552905529054290543005530055030050a0050a005330053a0053a005000051f0051d0051d005240051d0051d0051d0051d0051b0051b0050000500005000050000500005
010200000f6530f6530f6430f6450f6350f6350763507625006250061524600006000060000600006000060000600006000060000600006000060000600006000060000600006000060000600006000060000600
000500001b6041b6041b6111b6211b6211f6311f6311f6211f6230f6531f6001e600006000060000600006001d6001d6001d6001d6001d6001d60000600006000060000600006000060000600006000060000600
000200003f6533f6533f6321963519600186001860000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0103000023150261501b1002b1501b1001f1011f1011f1011f1030f10300100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100
01030000171501a1501b1001f15500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__music__
00 40414344

